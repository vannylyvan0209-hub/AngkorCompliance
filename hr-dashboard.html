<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>HR Dashboard - Angkor Compliance</title>
	<link rel="icon" type="image/png" href="favicon.png">
	<link rel="stylesheet" href="assets/css/main-modern.css">
	<link rel="stylesheet" href="assets/css/super-admin-navigation.css">
	<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
	<script src="assets/js/navigation-config.js"></script>
	<script src="assets/js/navigation-template.js"></script>
	<style>
		.dashboard-layout { display: flex; min-height: 100vh; }
		.main-content { flex: 1; margin-left: 280px; background: var(--neutral-50); min-height: 100vh; }
		.page-header { background: white; border-bottom: 1px solid var(--neutral-200); padding: var(--space-6) var(--space-8); }
		.cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: var(--space-6); padding: var(--space-8); }
		.card { background: white; border: 1px solid var(--neutral-200); border-radius: var(--radius-xl); padding: var(--space-6); box-shadow: var(--shadow-sm); }
		.table-card { background: white; border: 1px solid var(--neutral-200); border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); margin: 0 var(--space-8) var(--space-8); }
		.table-header { display:flex; align-items:center; justify-content:space-between; padding: var(--space-6); border-bottom: 1px solid var(--neutral-200); }
		.table { width: 100%; border-collapse: collapse; }
		.table th { background: var(--neutral-50); padding: var(--space-4); text-align:left; border-bottom: 1px solid var(--neutral-200); font-size: var(--text-sm); color: var(--neutral-700); }
		.table td { padding: var(--space-4); border-bottom: 1px solid var(--neutral-100); }
		.role-badge { display:inline-flex; align-items:center; padding: 2px 8px; border-radius: 999px; background: var(--neutral-100); font-size: 12px; color: var(--neutral-700); }
		@media (max-width: 768px){ .main-content { margin-left: 0; } }
	</style>
</head>
<body>
	<div class="dashboard-layout">
		<div id="sidebarContainer"></div>
		<script>fetch('assets/html/sidebar-template.html').then(r=>r.text()).then(html=>{document.getElementById('sidebarContainer').innerHTML=html; const el=document.querySelector('.brand-subtitle'); if(el) el.textContent='HR Portal';});</script>
		<main class="main-content">
			<header class="page-header">
				<h1 class="text-2xl font-bold">HR Dashboard</h1>
				<p class="text-neutral-600">Manage users, training, and notifications for your factory.</p>
			</header>
			<section class="cards">
				<div class="card"><div class="text-neutral-500 text-sm">Total Users</div><div id="statUsers" class="text-3xl font-bold">-</div></div>
				<div class="card"><div class="text-neutral-500 text-sm">Active Users</div><div id="statActive" class="text-3xl font-bold">-</div></div>
				<div class="card"><div class="text-neutral-500 text-sm">Trainings This Month</div><div id="statTraining" class="text-3xl font-bold">-</div></div>
				<div class="card"><div class="text-neutral-500 text-sm">Pending Actions</div><div id="statPending" class="text-3xl font-bold">-</div></div>
			</section>
			<section class="table-card">
				<div class="table-header">
					<h3 class="font-semibold text-neutral-900">Factory Users</h3>
					<div class="flex gap-2">
						<button class="btn btn-outline" onclick="hr.exportUsers()"><i data-lucide="download"></i>Export</button>
					</div>
				</div>
				<div style="overflow-x:auto;">
					<table class="table">
						<thead>
							<tr>
								<th>User</th>
								<th>Email</th>
								<th>Role</th>
								<th>Status</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody id="hrUsersTable"><tr><td colspan="5">Loading...</td></tr></tbody>
					</table>
				</div>
			</section>
		</main>
	</div>

	<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
	<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
	<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
	    <script type="module" src="firebase-config.js"></script>
	<script src="assets/js/lang.js"></script>
	<script src="assets/js/auth.js"></script>
	<script src="assets/js/hr-dashboard.js"></script>
	<script>document.addEventListener('DOMContentLoaded',()=>{ if(window.lucide){ lucide.createIcons(); }});</script>
</body>
</html>

