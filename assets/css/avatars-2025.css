/**
 * Angkor Compliance Platform - Avatar System 2025
 * 
 * Role-specific avatar system with 2025 design trends,
 * accessibility features, and comprehensive avatar types.
 */

/* ===== AVATAR COMPONENTS ===== */

/* Base Avatar */
.avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: var(--neutral-200);
    color: var(--neutral-600);
    font-weight: var(--font-semibold);
    position: relative;
    overflow: hidden;
    flex-shrink: 0;
}

/* Avatar Size Variants */
.avatar-xs {
    width: 24px;
    height: 24px;
    font-size: var(--text-xs);
}

.avatar-sm {
    width: 32px;
    height: 32px;
    font-size: var(--text-sm);
}

.avatar-md {
    width: 40px;
    height: 40px;
    font-size: var(--text-base);
}

.avatar-lg {
    width: 56px;
    height: 56px;
    font-size: var(--text-lg);
}

.avatar-xl {
    width: 72px;
    height: 72px;
    font-size: var(--text-xl);
}

.avatar-2xl {
    width: 96px;
    height: 96px;
    font-size: var(--text-2xl);
}

/* Avatar Shape Variants */
.avatar-square {
    border-radius: var(--radius-md);
}

.avatar-square.avatar-xs {
    border-radius: var(--radius-sm);
}

.avatar-square.avatar-sm {
    border-radius: var(--radius-sm);
}

.avatar-square.avatar-lg {
    border-radius: var(--radius-lg);
}

.avatar-square.avatar-xl {
    border-radius: var(--radius-lg);
}

.avatar-square.avatar-2xl {
    border-radius: var(--radius-xl);
}

.avatar-rounded {
    border-radius: var(--radius-lg);
}

.avatar-rounded.avatar-xs {
    border-radius: var(--radius-sm);
}

.avatar-rounded.avatar-sm {
    border-radius: var(--radius-md);
}

.avatar-rounded.avatar-lg {
    border-radius: var(--radius-xl);
}

.avatar-rounded.avatar-xl {
    border-radius: var(--radius-2xl);
}

.avatar-rounded.avatar-2xl {
    border-radius: var(--radius-3xl);
}

/* Avatar Image */
.avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: inherit;
}

/* Avatar with Initials */
.avatar-initials {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Avatar with Icon */
.avatar-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.avatar-icon svg {
    width: 60%;
    height: 60%;
}

/* Avatar Status Indicator */
.avatar-status {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 25%;
    height: 25%;
    border-radius: 50%;
    border: 2px solid white;
    background: var(--neutral-400);
}

.avatar-status.online {
    background: var(--success-500);
}

.avatar-status.away {
    background: var(--warning-500);
}

.avatar-status.busy {
    background: var(--danger-500);
}

.avatar-status.offline {
    background: var(--neutral-400);
}

/* Avatar Badge */
.avatar-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    min-width: 18px;
    height: 18px;
    padding: 0 4px;
    background: var(--danger-500);
    color: white;
    font-size: var(--text-xs);
    font-weight: var(--font-bold);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid white;
}

.avatar-badge.avatar-xs {
    min-width: 14px;
    height: 14px;
    font-size: 10px;
    top: -2px;
    right: -2px;
}

.avatar-badge.avatar-sm {
    min-width: 16px;
    height: 16px;
    font-size: 11px;
    top: -3px;
    right: -3px;
}

.avatar-badge.avatar-lg {
    min-width: 20px;
    height: 20px;
    font-size: 12px;
    top: -5px;
    right: -5px;
}

.avatar-badge.avatar-xl {
    min-width: 22px;
    height: 22px;
    font-size: 13px;
    top: -6px;
    right: -6px;
}

.avatar-badge.avatar-2xl {
    min-width: 24px;
    height: 24px;
    font-size: 14px;
    top: -8px;
    right: -8px;
}

/* ===== ROLE-SPECIFIC AVATARS ===== */

/* Worker Avatar */
.avatar-worker {
    background: var(--gradient-worker);
    color: white;
}

.avatar-worker .avatar-status.online {
    background: var(--success-400);
}

.avatar-worker .avatar-status.away {
    background: var(--warning-400);
}

.avatar-worker .avatar-status.busy {
    background: var(--danger-400);
}

/* Factory Admin Avatar */
.avatar-factory-admin {
    background: var(--gradient-factory-admin);
    color: white;
}

.avatar-factory-admin .avatar-status.online {
    background: var(--success-400);
}

.avatar-factory-admin .avatar-status.away {
    background: var(--warning-400);
}

.avatar-factory-admin .avatar-status.busy {
    background: var(--danger-400);
}

/* HR Staff Avatar */
.avatar-hr-staff {
    background: var(--gradient-hr-staff);
    color: white;
}

.avatar-hr-staff .avatar-status.online {
    background: var(--success-400);
}

.avatar-hr-staff .avatar-status.away {
    background: var(--warning-400);
}

.avatar-hr-staff .avatar-status.busy {
    background: var(--danger-400);
}

/* Grievance Committee Avatar */
.avatar-grievance-committee {
    background: var(--gradient-grievance-committee);
    color: white;
}

.avatar-grievance-committee .avatar-status.online {
    background: var(--success-400);
}

.avatar-grievance-committee .avatar-status.away {
    background: var(--warning-400);
}

.avatar-grievance-committee .avatar-status.busy {
    background: var(--danger-400);
}

/* Auditor Avatar */
.avatar-auditor {
    background: var(--gradient-auditor);
    color: white;
}

.avatar-auditor .avatar-status.online {
    background: var(--success-400);
}

.avatar-auditor .avatar-status.away {
    background: var(--warning-400);
}

.avatar-auditor .avatar-status.busy {
    background: var(--danger-400);
}

/* Analytics User Avatar */
.avatar-analytics-user {
    background: var(--gradient-analytics-user);
    color: white;
}

.avatar-analytics-user .avatar-status.online {
    background: var(--success-400);
}

.avatar-analytics-user .avatar-status.away {
    background: var(--warning-400);
}

.avatar-analytics-user .avatar-status.busy {
    background: var(--danger-400);
}

/* Super Admin Avatar */
.avatar-super-admin {
    background: var(--gradient-super-admin);
    color: white;
}

.avatar-super-admin .avatar-status.online {
    background: var(--success-400);
}

.avatar-super-admin .avatar-status.away {
    background: var(--warning-400);
}

.avatar-super-admin .avatar-status.busy {
    background: var(--danger-400);
}

/* ===== AVATAR GROUPS ===== */

/* Avatar Group */
.avatar-group {
    display: flex;
    align-items: center;
}

.avatar-group .avatar {
    margin-left: -8px;
    border: 2px solid white;
    box-shadow: var(--shadow-sm);
}

.avatar-group .avatar:first-child {
    margin-left: 0;
}

.avatar-group .avatar:hover {
    z-index: 1;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* Avatar Group with More */
.avatar-group-more {
    position: relative;
}

.avatar-group-more .avatar-more {
    background: var(--neutral-100);
    color: var(--neutral-600);
    border: 2px solid white;
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: var(--transition-all);
}

.avatar-group-more .avatar-more:hover {
    background: var(--neutral-200);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* ===== AVATAR VARIANTS ===== */

/* Avatar with Border */
.avatar-bordered {
    border: 2px solid var(--neutral-300);
}

.avatar-bordered.avatar-worker {
    border-color: var(--primary-300);
}

.avatar-bordered.avatar-factory-admin {
    border-color: var(--secondary-300);
}

.avatar-bordered.avatar-hr-staff {
    border-color: var(--success-300);
}

.avatar-bordered.avatar-grievance-committee {
    border-color: var(--warning-300);
}

.avatar-bordered.avatar-auditor {
    border-color: var(--danger-300);
}

.avatar-bordered.avatar-analytics-user {
    border-color: var(--info-300);
}

.avatar-bordered.avatar-super-admin {
    border-color: var(--neutral-400);
}

/* Avatar with Shadow */
.avatar-shadow {
    box-shadow: var(--shadow-md);
}

.avatar-shadow-lg {
    box-shadow: var(--shadow-lg);
}

.avatar-shadow-xl {
    box-shadow: var(--shadow-xl);
}

/* Avatar with Glow */
.avatar-glow {
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
}

.avatar-glow.avatar-worker {
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
}

.avatar-glow.avatar-factory-admin {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

.avatar-glow.avatar-hr-staff {
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
}

.avatar-glow.avatar-grievance-committee {
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
}

.avatar-glow.avatar-auditor {
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

.avatar-glow.avatar-analytics-user {
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
}

.avatar-glow.avatar-super-admin {
    box-shadow: 0 0 20px rgba(107, 114, 128, 0.3);
}

/* Avatar Interactive */
.avatar-interactive {
    cursor: pointer;
    transition: var(--transition-all);
}

.avatar-interactive:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.avatar-interactive:active {
    transform: translateY(0);
    box-shadow: var(--shadow-md);
}

/* Avatar Loading */
.avatar-loading {
    background: var(--neutral-200);
    animation: avatarPulse 2s ease-in-out infinite;
}

@keyframes avatarPulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Avatar Placeholder */
.avatar-placeholder {
    background: var(--neutral-100);
    color: var(--neutral-400);
    border: 2px dashed var(--neutral-300);
}

.avatar-placeholder .avatar-icon svg {
    color: var(--neutral-400);
}

/* ===== AVATAR RESPONSIVE ===== */

@media (max-width: 768px) {
    .avatar-group .avatar {
        margin-left: -6px;
    }
    
    .avatar-group .avatar:hover {
        transform: none;
    }
    
    .avatar-interactive:hover {
        transform: none;
    }
}

/* ===== AVATAR DARK MODE ===== */

@media (prefers-color-scheme: dark) {
    .avatar {
        background: var(--dark-neutral-200);
        color: var(--dark-neutral-600);
    }
    
    .avatar-status {
        border-color: var(--dark-neutral-800);
    }
    
    .avatar-status.online {
        background: var(--dark-success-500);
    }
    
    .avatar-status.away {
        background: var(--dark-warning-500);
    }
    
    .avatar-status.busy {
        background: var(--dark-danger-500);
    }
    
    .avatar-status.offline {
        background: var(--dark-neutral-400);
    }
    
    .avatar-badge {
        border-color: var(--dark-neutral-800);
    }
    
    .avatar-group .avatar {
        border-color: var(--dark-neutral-800);
    }
    
    .avatar-group-more .avatar-more {
        background: var(--dark-neutral-100);
        color: var(--dark-neutral-600);
        border-color: var(--dark-neutral-800);
    }
    
    .avatar-group-more .avatar-more:hover {
        background: var(--dark-neutral-200);
    }
    
    .avatar-bordered {
        border-color: var(--dark-neutral-300);
    }
    
    .avatar-placeholder {
        background: var(--dark-neutral-100);
        color: var(--dark-neutral-400);
        border-color: var(--dark-neutral-300);
    }
    
    .avatar-placeholder .avatar-icon svg {
        color: var(--dark-neutral-400);
    }
    
    .avatar-loading {
        background: var(--dark-neutral-200);
    }
}

.dark-mode .avatar {
    background: var(--dark-neutral-200);
    color: var(--dark-neutral-600);
}

.dark-mode .avatar-status {
    border-color: var(--dark-neutral-800);
}

.dark-mode .avatar-status.online {
    background: var(--dark-success-500);
}

.dark-mode .avatar-status.away {
    background: var(--dark-warning-500);
}

.dark-mode .avatar-status.busy {
    background: var(--dark-danger-500);
}

.dark-mode .avatar-status.offline {
    background: var(--dark-neutral-400);
}

.dark-mode .avatar-badge {
    border-color: var(--dark-neutral-800);
}

.dark-mode .avatar-group .avatar {
    border-color: var(--dark-neutral-800);
}

.dark-mode .avatar-group-more .avatar-more {
    background: var(--dark-neutral-100);
    color: var(--dark-neutral-600);
    border-color: var(--dark-neutral-800);
}

.dark-mode .avatar-group-more .avatar-more:hover {
    background: var(--dark-neutral-200);
}

.dark-mode .avatar-bordered {
    border-color: var(--dark-neutral-300);
}

.dark-mode .avatar-placeholder {
    background: var(--dark-neutral-100);
    color: var(--dark-neutral-400);
    border-color: var(--dark-neutral-300);
}

.dark-mode .avatar-placeholder .avatar-icon svg {
    color: var(--dark-neutral-400);
}

.dark-mode .avatar-loading {
    background: var(--dark-neutral-200);
}

/* ===== AVATAR ACCESSIBILITY ===== */

/* Focus Management */
.avatar-interactive:focus-visible {
    outline: 2px solid var(--primary-500);
    outline-offset: 2px;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .avatar-interactive {
        transition: none;
    }
    
    .avatar-interactive:hover {
        transform: none;
    }
    
    .avatar-group .avatar:hover {
        transform: none;
    }
    
    .avatar-loading {
        animation: none;
    }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .avatar {
        border: 2px solid var(--neutral-400);
    }
    
    .avatar-status {
        border-width: 3px;
    }
    
    .avatar-badge {
        border-width: 3px;
    }
    
    .avatar-group .avatar {
        border-width: 3px;
    }
}
