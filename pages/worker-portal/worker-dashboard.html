<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../../assets/css/main-2025.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worker Dashboard - Angkor Compliance</title>
    <link rel="icon" type="image/png" href="../../favicon.png">
    
    
    
    

    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <style>
        /* Role-specific styling for worker */
        body.role-worker {
            --role-primary: var(--worker-primary);
            --role-secondary: var(--worker-secondary);
            --role-accent: var(--worker-accent);
        }

        .worker-dashboard {
            padding: var(--space-6);
            max-width: 1200px;
            margin: 0 auto;
            margin-left: 280px; /* Account for sidebar */
            transition: margin-left 0.3s ease;
        }

        @media (max-width: 768px) {
            .worker-dashboard {
                margin-left: 0;
                padding: var(--space-4);
            }
        }

        .dashboard-header {
            background: linear-gradient(135deg, var(--role-primary), var(--role-secondary));
            color: white;
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-6);
            text-align: center;
        }

        .dashboard-header h1 {
            margin: 0 0 var(--space-2) 0;
            font-size: 2rem;
        }

        .dashboard-header p {
            margin: 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        .action-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .action-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--role-primary);
        }

        .action-card i {
            font-size: 2.5rem;
            color: var(--role-primary);
            margin-bottom: var(--space-3);
        }

        .action-card h3 {
            margin: 0 0 var(--space-2) 0;
            color: var(--text-primary);
        }

        .action-card p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-6);
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }

        .card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-4);
            padding-bottom: var(--space-3);
            border-bottom: 1px solid var(--border-color);
        }

        .card-header h3 {
            margin: 0;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .case-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .case-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-3);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
        }

        .case-item:hover {
            border-color: var(--role-primary);
            background: var(--role-primary-50);
        }

        .case-info {
            flex: 1;
        }

        .case-id {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .case-category {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-1);
        }

        .case-date {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .case-status {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-new { background: var(--blue-100); color: var(--blue-700); }
        .status-assigned { background: var(--yellow-100); color: var(--yellow-700); }
        .status-investigating { background: var(--orange-100); color: var(--orange-700); }
        .status-resolved { background: var(--green-100); color: var(--green-700); }
        .status-closed { background: var(--gray-100); color: var(--gray-700); }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
        }

        .contact-item:hover {
            border-color: var(--role-primary);
            background: var(--role-primary-50);
        }

        .contact-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--role-primary-100);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--role-primary);
        }

        .contact-details h4 {
            margin: 0 0 var(--space-1) 0;
            color: var(--text-primary);
        }

        .contact-details p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .notification-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
            padding: var(--space-3);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
        }

        .notification-item:hover {
            border-color: var(--role-primary);
            background: var(--role-primary-50);
        }

        .notification-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--role-primary-100);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--role-primary);
            flex-shrink: 0;
        }

        .notification-content h4 {
            margin: 0 0 var(--space-1) 0;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .notification-content p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .notification-time {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: var(--space-1);
        }

        .progress-section {
            margin-bottom: var(--space-4);
        }

        .progress-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-2);
        }

        .progress-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .progress-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-top: var(--space-1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--role-primary), var(--role-secondary));
            border-radius: var(--radius-full);
            transition: width 0.3s ease;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
        }

        .stat-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--role-primary);
            margin-bottom: var(--space-1);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        @media (max-width: 1024px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .quick-actions {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="role-worker">
    <div id="sidebarContainer"></div>
    <!-- Navigation Sidebar -->
    <div id="navigation-sidebar" class="layout-sidebar bg-white shadow-lg"></div>

    <!-- Header -->
    <header id="navigation-header" class="header"></header>

    <!-- Quick Actions -->
    <div id="quick-actions" class="quick-actions-container"></div>

    <!-- Main Content -->
    <main class="worker-dashboard">
        <div style="margin-left: 280px;">
        <!-- Dashboard Header -->
        <div class="dashboard-header">
            <h1><i data-lucide="user"></i> Worker Dashboard</h1>
            <p>Welcome back! Here's your personal overview and quick access to grievance services.</p>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <div class="action-card" onclick="submitNewGrievance()">
                <i data-lucide="plus-circle"></i>
                <h3>Submit New Grievance</h3>
                <p>Report a concern or issue anonymously</p>
            </div>
            <div class="action-card" onclick="trackExistingCase()">
                <i data-lucide="search"></i>
                <h3>Track Your Case</h3>
                <p>Check the status of your submitted cases</p>
            </div>
            <div class="action-card" onclick="contactSupport()">
                <i data-lucide="phone"></i>
                <h3>Contact Support</h3>
                <p>Get help from the grievance committee</p>
            </div>
            <div class="action-card" onclick="viewResources()">
                <i data-lucide="book-open"></i>
                <h3>Help Resources</h3>
                <p>Access guides and information</p>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div class="dashboard-grid">
            <div class="layout-main">
                <!-- Case Statistics -->
                <div class="card shadow-md">
                    <div class="card-header bg-neutral-50">
                        <h3><i data-lucide="bar-chart-3"></i> Your Case Statistics</h3>
                    </div>
                    <div class="stats-grid" id="caseStats">
                        <div class="stat-card">
                            <div class="stat-number" id="totalCases">0</div>
                            <div class="stat-label">Total Cases</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="activeCases">0</div>
                            <div class="stat-label">Active Cases</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="resolvedCases">0</div>
                            <div class="stat-label">Resolved</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="avgResolutionTime">0</div>
                            <div class="stat-label">Avg. Days to Resolve</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Cases -->
                <div class="card shadow-md">
                    <div class="card-header bg-neutral-50">
                        <h3><i data-lucide="clock"></i> Recent Cases</h3>
                        <button class="btn btn-outline" onclick="viewAllCases()">
                            <i data-lucide="external-link"></i> View All
                        </button>
                    </div>
                    <div class="case-list" id="recentCasesList">
                        <div class="empty-state">
                            <i data-lucide="file-text"></i>
                            <h3>No cases yet</h3>
                            <p>You haven't submitted any grievances yet.</p>
                            <button class="btn btn-primary text-white font-medium" onclick="submitNewGrievance()">
                                <i data-lucide="plus"></i> Submit Your First Grievance
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layout-sidebar bg-white shadow-lg">
                <!-- Contact Information -->
                <div class="card shadow-md">
                    <div class="card-header bg-neutral-50">
                        <h3><i data-lucide="phone"></i> Contact Information</h3>
                    </div>
                    <div class="contact-info" id="contactInfo">
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i data-lucide="phone"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Grievance Hotline</h4>
                                <p>+855 12 345 678</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i data-lucide="mail"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Email Support</h4>
                                <p>grievance@angkorcompliance.com</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i data-lucide="map-pin"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Office Location</h4>
                                <p>HR Department, Building A</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i data-lucide="clock"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Office Hours</h4>
                                <p>Mon-Fri: 8:00 AM - 5:00 PM</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Help Resources -->
                <div class="card shadow-md">
                    <div class="card-header bg-neutral-50">
                        <h3><i data-lucide="help-circle"></i> Help Resources</h3>
                    </div>
                    <div class="help-resources" id="helpResources">
                        <div class="resource-item" onclick="openResource('guide')">
                            <div class="resource-icon">
                                <i data-lucide="book"></i>
                            </div>
                            <div class="resource-details">
                                <h4>Submission Guide</h4>
                                <p>How to submit a grievance</p>
                            </div>
                        </div>
                        <div class="resource-item" onclick="openResource('rights')">
                            <div class="resource-icon">
                                <i data-lucide="shield"></i>
                            </div>
                            <div class="resource-details">
                                <h4>Worker Rights</h4>
                                <p>Your rights and protections</p>
                            </div>
                        </div>
                        <div class="resource-item" onclick="openResource('faq')">
                            <div class="resource-icon">
                                <i data-lucide="help-circle"></i>
                            </div>
                            <div class="resource-details">
                                <h4>FAQ</h4>
                                <p>Frequently asked questions</p>
                            </div>
                        </div>
                        <div class="resource-item" onclick="openResource('policy')">
                            <div class="resource-icon">
                                <i data-lucide="file-text"></i>
                            </div>
                            <div class="resource-details">
                                <h4>Grievance Policy</h4>
                                <p>Company grievance policy</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            </div>
</main>

    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <script type="module" src="../../firebase-config.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <script src="../../assets/js/navigation-config.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <script src="../../assets/js/navigation-component.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <script src="../../assets/js/worker-portal/worker-dashboard.js"></script>
    <script src="../../assets/js/universal-navigation.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.lucide) {
                lucide.createIcons();
            }
            
            // Initialize navigation system
            const navigation = new NavigationComponent();
            navigation.init();
        });
    </script>
</body>
</html>


