<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worker App - Angkor Compliance</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/worker-portal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .worker-app {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .app-header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .app-header h1 {
            font-size: 2.5rem;
            margin: 0 0 10px 0;
            font-weight: 700;
        }

        .app-header p {
            font-size: 1.1rem;
            margin: 0;
            opacity: 0.9;
        }

        .access-channels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .channel-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .channel-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .channel-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #667eea;
        }

        .channel-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .channel-description {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .channel-btn {
            background: #667eea;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .channel-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .quick-actions {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .quick-actions h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .action-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .action-item:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .action-icon {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        .action-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .action-description {
            color: #666;
            font-size: 0.9rem;
        }

        .language-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .language-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #667eea;
            color: #667eea;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .language-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .emergency-contact {
            background: rgba(220, 53, 69, 0.1);
            border: 2px solid #dc3545;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .emergency-contact h3 {
            color: #dc3545;
            margin-bottom: 15px;
        }

        .emergency-btn {
            background: #dc3545;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 0 10px;
        }

        .emergency-btn:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        .safety-info {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .safety-info h3 {
            color: #856404;
            margin-bottom: 15px;
            text-align: center;
        }

        .safety-tips {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .safety-tip {
            background: white;
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid #ffc107;
        }

        .safety-tip h4 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .safety-tip p {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
        }

        .qr-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .qr-code {
            background: #f8f9fa;
            border: 2px dashed #667eea;
            border-radius: 15px;
            padding: 40px;
            margin: 20px 0;
            display: inline-block;
        }

        .qr-code img {
            width: 200px;
            height: 200px;
            border-radius: 10px;
        }

        .qr-instructions {
            color: #666;
            margin-top: 15px;
        }

        .whatsapp-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .whatsapp-btn {
            background: #25d366;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
        }

        .whatsapp-btn:hover {
            background: #128c7e;
            transform: translateY(-2px);
        }

        .whatsapp-btn i {
            margin-right: 10px;
        }

        .kiosk-mode {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .kiosk-btn {
            background: #6f42c1;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
        }

        .kiosk-btn:hover {
            background: #5a32a3;
            transform: translateY(-2px);
        }

        .kiosk-btn i {
            margin-right: 10px;
        }

        .hotline-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .hotline-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin: 20px 0;
        }

        .hotline-btn {
            background: #28a745;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
        }

        .hotline-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .hotline-btn i {
            margin-right: 10px;
        }

        .footer-info {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            color: white;
        }

        .footer-info h3 {
            margin-bottom: 15px;
        }

        .footer-info p {
            margin: 5px 0;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .access-channels {
                grid-template-columns: 1fr;
            }
            
            .action-grid {
                grid-template-columns: 1fr;
            }
            
            .safety-tips {
                grid-template-columns: 1fr;
            }
            
            .app-header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="language-toggle">
        <button class="language-btn" onclick="toggleLanguage()">
            <i class="fas fa-globe"></i>
            <span id="lang-text">English</span>
        </button>
    </div>

    <div class="worker-app">
        <div class="app-container">
            <div class="app-header">
                <h1 id="app-title">Worker App</h1>
                <p id="app-subtitle">Safe, anonymous access to grievance reporting and support</p>
            </div>

            <div class="emergency-contact">
                <h3 id="emergency-title">üö® Emergency Contact</h3>
                <p id="emergency-description">If you're in immediate danger or need urgent assistance, contact these numbers:</p>
                <a href="tel:+855-012345678" class="emergency-btn">
                    <i class="fas fa-phone"></i>
                    <span id="emergency-phone">+855 012 345 678</span>
                </a>
                <a href="tel:+855-098765432" class="emergency-btn">
                    <i class="fas fa-phone"></i>
                    <span id="emergency-hotline">Hotline: +855 098 765 432</span>
                </a>
            </div>

            <div class="access-channels">
                <div class="channel-card" onclick="openGrievanceForm()">
                    <div class="channel-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="channel-title" id="grievance-title">Submit Grievance</div>
                    <div class="channel-description" id="grievance-description">
                        Report workplace issues, harassment, safety concerns, or other grievances anonymously
                    </div>
                    <button class="channel-btn" id="grievance-btn">
                        <i class="fas fa-plus"></i>
                        <span id="grievance-btn-text">Submit Report</span>
                    </button>
                </div>

                <div class="channel-card" onclick="openCaseTracking()">
                    <div class="channel-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="channel-title" id="tracking-title">Track Case</div>
                    <div class="channel-description" id="tracking-description">
                        Check the status of your submitted grievance using your case number
                    </div>
                    <button class="channel-btn" id="tracking-btn">
                        <i class="fas fa-search"></i>
                        <span id="tracking-btn-text">Track Case</span>
                    </button>
                </div>

                <div class="channel-card" onclick="openSupport()">
                    <div class="channel-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="channel-title" id="support-title">Get Support</div>
                    <div class="channel-description" id="support-description">
                        Access resources, FAQs, and contact information for additional support
                    </div>
                    <button class="channel-btn" id="support-btn">
                        <i class="fas fa-info-circle"></i>
                        <span id="support-btn-text">Get Help</span>
                    </button>
                </div>
            </div>

            <div class="quick-actions">
                <h2 id="quick-actions-title">Quick Actions</h2>
                <div class="action-grid">
                    <div class="action-item" onclick="openSafetyReport()">
                        <div class="action-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="action-title" id="safety-title">Safety Report</div>
                        <div class="action-description" id="safety-description">Report safety hazards or incidents</div>
                    </div>

                    <div class="action-item" onclick="openWageIssue()">
                        <div class="action-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="action-title" id="wage-title">Wage Issue</div>
                        <div class="action-description" id="wage-description">Report payment or wage-related problems</div>
                    </div>

                    <div class="action-item" onclick="openHarassmentReport()">
                        <div class="action-icon">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <div class="action-title" id="harassment-title">Harassment</div>
                        <div class="action-description" id="harassment-description">Report harassment or discrimination</div>
                    </div>

                    <div class="action-item" onclick="openWorkingConditions()">
                        <div class="action-icon">
                            <i class="fas fa-industry"></i>
                        </div>
                        <div class="action-title" id="conditions-title">Working Conditions</div>
                        <div class="action-description" id="conditions-description">Report poor working conditions</div>
                    </div>
                </div>
            </div>

            <div class="qr-section">
                <h3 id="qr-title">üì± Mobile Access</h3>
                <p id="qr-description">Scan this QR code with your phone to access the Worker App</p>
                <div class="qr-code">
                    <img src="../assets/images/qr-code-worker-app.png" alt="Worker App QR Code" id="qr-image">
                </div>
                <p class="qr-instructions" id="qr-instructions">
                    Point your phone camera at this code to open the Worker App
                </p>
            </div>

            <div class="whatsapp-section">
                <h3 id="whatsapp-title">üí¨ WhatsApp Support</h3>
                <p id="whatsapp-description">Get support and submit grievances via WhatsApp</p>
                <a href="https://wa.me/85512345678" class="whatsapp-btn" target="_blank">
                    <i class="fab fa-whatsapp"></i>
                    <span id="whatsapp-btn-text">Chat on WhatsApp</span>
                </a>
                <p id="whatsapp-note">Available 24/7 for urgent issues</p>
            </div>

            <div class="kiosk-mode">
                <h3 id="kiosk-title">üñ•Ô∏è Kiosk Mode</h3>
                <p id="kiosk-description">Use the factory kiosk for easy access</p>
                <a href="kiosk-interface.html" class="kiosk-btn">
                    <i class="fas fa-desktop"></i>
                    <span id="kiosk-btn-text">Enter Kiosk Mode</span>
                </a>
                <p id="kiosk-note">Optimized for touch-screen factory kiosks</p>
            </div>

            <div class="hotline-section">
                <h3 id="hotline-title">üìû Hotline Support</h3>
                <p id="hotline-description">Call our dedicated hotline for immediate assistance</p>
                <div class="hotline-number" id="hotline-number">+855 098 765 432</div>
                <a href="tel:+855098765432" class="hotline-btn">
                    <i class="fas fa-phone"></i>
                    <span id="hotline-btn-text">Call Now</span>
                </a>
                <p id="hotline-hours">Available 24/7 ‚Ä¢ Free call</p>
            </div>

            <div class="safety-info">
                <h3 id="safety-info-title">üõ°Ô∏è Your Safety & Rights</h3>
                <div class="safety-tips">
                    <div class="safety-tip">
                        <h4 id="tip1-title">Anonymous Reporting</h4>
                        <p id="tip1-text">All reports are completely anonymous. Your identity is protected.</p>
                    </div>
                    <div class="safety-tip">
                        <h4 id="tip2-title">No Retaliation</h4>
                        <p id="tip2-text">It's illegal for anyone to retaliate against you for reporting issues.</p>
                    </div>
                    <div class="safety-tip">
                        <h4 id="tip3-title">24/7 Support</h4>
                        <p id="tip3-text">Help is available around the clock through multiple channels.</p>
                    </div>
                    <div class="safety-tip">
                        <h4 id="tip4-title">Legal Protection</h4>
                        <p id="tip4-text">You have legal rights and protections when reporting workplace issues.</p>
                    </div>
                </div>
            </div>

            <div class="footer-info">
                <h3 id="footer-title">Need More Help?</h3>
                <p id="footer-email">Email: worker-support@angkorcompliance.com</p>
                <p id="footer-hours">Support Hours: 24/7</p>
                <p id="footer-languages">Languages: English, Khmer, Thai, Vietnamese</p>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="../assets/js/firebase-config.js"></script>
    <script src="../assets/js/worker-portal/worker-app.js"></script>
</body>
</html>
