<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Copilot - Super Admin - Angkor Compliance Platform</title>
    <link rel="icon" type="image/png" href="../../favicon.png">
    
    <!-- Modern CSS -->
    
    
    
    
    
    
    <!-- Inter Font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        /* Role-specific styling for super_admin */
        body.role-super-admin {
            --role-primary: var(--super-admin-primary);
            --role-secondary: var(--super-admin-secondary);
            --role-accent: var(--super-admin-accent);
        }
        
        /* AI Copilot Specific Styles */
        .ai-copilot {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: var(--space-6);
        }
        
        .copilot-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .copilot-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-2xl);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            box-shadow: var(--shadow-lg);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-left h1 {
            font-size: var(--text-3xl);
            font-weight: 700;
            color: var(--neutral-900);
            margin-bottom: var(--space-2);
        }
        
        .header-left p {
            color: var(--neutral-600);
            font-size: var(--text-lg);
        }
        
        .header-actions {
            display: flex;
            gap: var(--space-3);
        }
        
        .action-btn {
            background: linear-gradient(135deg, var(--success-600), var(--success-700));
            color: white;
            border: none;
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .action-btn:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }
        
        .action-btn.secondary {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
        }
        
        .action-btn.danger {
            background: linear-gradient(135deg, var(--danger-600), var(--danger-700));
        }
        
        /* AI Chat Interface */
        .ai-chat-interface {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-2xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-lg);
            margin-bottom: var(--space-8);
            height: 500px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
            padding-bottom: var(--space-4);
            border-bottom: 1px solid var(--neutral-200);
        }
        
        .chat-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--neutral-900);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .ai-status {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 500;
        }
        
        .ai-status.online {
            background: var(--success-100);
            color: var(--success-700);
        }
        
        .ai-status.offline {
            background: var(--neutral-100);
            color: var(--neutral-600);
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-4);
            background: var(--neutral-50);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-4);
        }
        
        .message {
            margin-bottom: var(--space-4);
            display: flex;
            gap: var(--space-3);
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: 600;
            color: white;
            flex-shrink: 0;
        }
        
        .message-avatar.user {
            background: var(--primary-500);
        }
        
        .message-avatar.ai {
            background: var(--success-500);
        }
        
        .message-content {
            max-width: 70%;
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
            line-height: 1.5;
        }
        
        .message.user .message-content {
            background: var(--primary-500);
            color: white;
        }
        
        .message.ai .message-content {
            background: white;
            color: var(--neutral-900);
            border: 1px solid var(--neutral-200);
        }
        
        .chat-input-container {
            display: flex;
            gap: var(--space-2);
        }
        
        .chat-input {
            flex: 1;
            padding: var(--space-3) var(--space-4);
            border: 1px solid var(--neutral-200);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
            resize: none;
            min-height: 44px;
            max-height: 120px;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .chat-send-btn {
            padding: var(--space-3) var(--space-4);
            background: var(--primary-500);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .chat-send-btn:hover {
            background: var(--primary-600);
        }
        
        .chat-send-btn:disabled {
            background: var(--neutral-300);
            cursor: not-allowed;
        }
        
        /* AI Recommendations */
        .ai-recommendations {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-2xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-lg);
            margin-bottom: var(--space-8);
        }
        
        .recommendations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
        }
        
        .recommendations-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--neutral-900);
        }
        
        .recommendations-actions {
            display: flex;
            gap: var(--space-2);
        }
        
        .recommendations-btn {
            padding: var(--space-2) var(--space-4);
            border: 1px solid var(--neutral-200);
            border-radius: var(--radius-md);
            background: white;
            color: var(--neutral-700);
            font-size: var(--text-sm);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .recommendations-btn:hover {
            background: var(--primary-50);
            border-color: var(--primary-200);
            color: var(--primary-700);
        }
        
        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--space-4);
        }
        
        .recommendation-item {
            background: white;
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            border: 1px solid var(--neutral-200);
            transition: all 0.2s ease;
        }
        
        .recommendation-item:hover {
            border-color: var(--primary-200);
            box-shadow: var(--shadow-md);
        }
        
        .recommendation-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-3);
        }
        
        .recommendation-title {
            font-size: var(--text-md);
            font-weight: 600;
            color: var(--neutral-900);
        }
        
        .recommendation-priority {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .recommendation-priority.high {
            background: var(--danger-100);
            color: var(--danger-700);
        }
        
        .recommendation-priority.medium {
            background: var(--warning-100);
            color: var(--warning-700);
        }
        
        .recommendation-priority.low {
            background: var(--success-100);
            color: var(--success-700);
        }
        
        .recommendation-description {
            font-size: var(--text-sm);
            color: var(--neutral-600);
            margin-bottom: var(--space-3);
            line-height: 1.5;
        }
        
        .recommendation-actions {
            display: flex;
            gap: var(--space-2);
        }
        
        .recommendation-btn {
            flex: 1;
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--neutral-200);
            border-radius: var(--radius-md);
            background: white;
            color: var(--neutral-700);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-1);
        }
        
        .recommendation-btn:hover {
            background: var(--primary-50);
            border-color: var(--primary-200);
            color: var(--primary-700);
        }
        
        .recommendation-btn.primary:hover {
            background: var(--primary-500);
            border-color: var(--primary-500);
            color: white;
        }
        
        /* AI Insights */
        .ai-insights {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-2xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-lg);
            margin-bottom: var(--space-8);
        }
        
        .insights-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
        }
        
        .insights-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--neutral-900);
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-4);
        }
        
        .insight-item {
            background: white;
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            border: 1px solid var(--neutral-200);
            transition: all 0.2s ease;
        }
        
        .insight-item:hover {
            border-color: var(--primary-200);
            box-shadow: var(--shadow-md);
        }
        
        .insight-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
        }
        
        .insight-title {
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--neutral-900);
        }
        
        .insight-icon {
            width: 24px;
            height: 24px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: var(--text-xs);
        }
        
        .insight-icon.success {
            background: var(--success-500);
        }
        
        .insight-icon.warning {
            background: var(--warning-500);
        }
        
        .insight-icon.danger {
            background: var(--danger-500);
        }
        
        .insight-icon.info {
            background: var(--info-500);
        }
        
        .insight-description {
            font-size: var(--text-sm);
            color: var(--neutral-600);
            margin-bottom: var(--space-3);
        }
        
        .insight-value {
            font-size: var(--text-lg);
            font-weight: 700;
            color: var(--neutral-900);
        }
        
        /* AI Automation */
        .ai-automation {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-2xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-lg);
        }
        
        .automation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
        }
        
        .automation-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--neutral-900);
        }
        
        .automation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-4);
        }
        
        .automation-item {
            background: white;
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            border: 1px solid var(--neutral-200);
            transition: all 0.2s ease;
        }
        
        .automation-item:hover {
            border-color: var(--primary-200);
            box-shadow: var(--shadow-md);
        }
        
        .automation-header-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
        }
        
        .automation-name {
            font-weight: 600;
            color: var(--neutral-900);
        }
        
        .automation-status {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .automation-status.active {
            background: var(--success-100);
            color: var(--success-700);
        }
        
        .automation-status.inactive {
            background: var(--neutral-100);
            color: var(--neutral-600);
        }
        
        .automation-description {
            font-size: var(--text-sm);
            color: var(--neutral-600);
            margin-bottom: var(--space-3);
        }
        
        .automation-actions {
            display: flex;
            gap: var(--space-2);
        }
        
        .automation-btn {
            flex: 1;
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--neutral-200);
            border-radius: var(--radius-md);
            background: white;
            color: var(--neutral-700);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .automation-btn:hover {
            background: var(--primary-50);
            border-color: var(--primary-200);
            color: var(--primary-700);
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .recommendations-grid {
                grid-template-columns: 1fr;
            }
            
            .insights-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .automation-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .ai-copilot {
                padding: var(--space-4);
            }
            
            .header-content {
                flex-direction: column;
                gap: var(--space-4);
                text-align: center;
            }
            
            .insights-grid {
                grid-template-columns: 1fr;
            }
            
            .message-content {
                max-width: 85%;
            }
        }
        
        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-4);
            background: white;
            border: 1px solid var(--neutral-200);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-4);
        }
        
        .typing-dots {
            display: flex;
            gap: var(--space-1);
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--neutral-400);
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
    </style>
    <link rel="stylesheet" href="../../assets/css/main-2025.css">
</head>
<body class="role-super-admin">
    
    <!-- Navigation Sidebar -->
    <div id="navigation-sidebar" class="layout-sidebar bg-white shadow-lg"></div>

    <!-- Header -->
    <header id="navigation-header" class="header"></header>

    <!-- Quick Actions -->
    <div id="quick-actions" class="quick-actions-container"></div>

    <!-- Main Content -->
    <main class="layout-main">
        <div class="ai-copilot">
            <div class="copilot-container">
                <!-- AI Copilot Header -->
                <div class="copilot-header fade-in">
                    <div class="header-content">
                        <div class="header-left">
                            <h1>AI Copilot Integration</h1>
                            <p>AI-powered assistance for system administration, automated recommendations, and intelligent system management</p>
                        </div>
                        <div class="header-actions">
                            <button class="action-btn secondary" onclick="refreshAI()">
                                <i data-lucide="refresh-cw"></i>
                                Refresh AI
                            </button>
                            <button class="action-btn" onclick="configureAI()">
                                <i data-lucide="settings"></i>
                                Configure AI
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- AI Chat Interface -->
                <div class="ai-chat-interface fade-in">
                    <div class="chat-header">
                        <div class="chat-title">
                            <i data-lucide="bot"></i>
                            AI Assistant
                        </div>
                        <div class="ai-status online" id="aiStatus">
                            <div style="width: 8px; height: 8px; border-radius: 50%; background: var(--success-500);"></div>
                            Online
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            <div class="message-avatar ai">AI</div>
                            <div class="message-content">
                                Hello! I'm your AI assistant. I can help you with system administration, compliance management, and provide intelligent recommendations. How can I assist you today?
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <textarea class="chat-input" id="chatInput" placeholder="Ask me anything about system administration, compliance, or get recommendations..." rows="1"></textarea>
                        <button class="chat-send-btn" id="chatSendBtn" onclick="sendMessage()">
                            <i data-lucide="send"></i>
                            Send
                        </button>
                    </div>
                </div>
                
                <!-- AI Recommendations -->
                <div class="ai-recommendations fade-in">
                    <div class="recommendations-header">
                        <h3 class="recommendations-title">AI Recommendations</h3>
                        <div class="recommendations-actions">
                            <button class="recommendations-btn" onclick="refreshRecommendations()">Refresh</button>
                            <button class="recommendations-btn" onclick="configureRecommendations()">Configure</button>
                        </div>
                    </div>
                    
                    <div class="recommendations-grid" id="recommendationsGrid">
                        <!-- AI recommendations will be loaded here -->
                    </div>
                </div>
                
                <!-- AI Insights -->
                <div class="ai-insights fade-in">
                    <div class="insights-header">
                        <h3 class="insights-title">AI Insights</h3>
                    </div>
                    
                    <div class="insights-grid" id="insightsGrid">
                        <!-- AI insights will be loaded here -->
                    </div>
                </div>
                
                <!-- AI Automation -->
                <div class="ai-automation fade-in">
                    <div class="automation-header">
                        <h3 class="automation-title">AI Automation</h3>
                    </div>
                    
                    <div class="automation-grid" id="automationGrid">
                        <!-- AI automation will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Scripts -->
    <script src="../../assets/js/firebase-config.js"></script>
    <script src="../../assets/js/navigation-config.js"></script>
    <script src="../../assets/js/navigation-component.js"></script>
    <script src="../../assets/js/super-admin/super-admin-navigation.js"></script>
    <script src="../../assets/js/super-admin/ai-copilot-core.js"></script>
    <script src="../../assets/js/super-admin/ai-copilot-actions.js"></script>
    
    <script>
        // Initialize Lucide icons
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
        
        // Global functions for HTML onclick handlers
        function refreshAI() {
            console.log('Refreshing AI...');
            // Implement AI refresh
        }
        
        function configureAI() {
            console.log('Configuring AI...');
            // Implement AI configuration
        }
        
        function sendMessage() {
            console.log('Sending message...');
            // Implement message sending
        }
        
        function refreshRecommendations() {
            console.log('Refreshing recommendations...');
            // Implement recommendations refresh
        }
        
        function configureRecommendations() {
            console.log('Configuring recommendations...');
            // Implement recommendations configuration
        }
        
        // Auto-resize textarea
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                });
            }
        });
        
        // Send message on Enter key
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendMessage();
                    }
                });
            }
        });
    </script>
</body>
</html>
