<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worker Portal - Angkor Compliance</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="role-worker">
    <div class="container">
        <header class="page-header">
            <h1>Worker Portal</h1>
            <p>Submit and track grievances anonymously</p>
        </header>

        <nav class="breadcrumb">
            <a href="../index.html">Home</a> > Worker Portal
        </nav>

        
    <!-- Navigation Sidebar -->
    <div id="navigation-sidebar" class="sidebar"></div>

    <!-- Header -->
    <header id="navigation-header" class="header"></header>

    <!-- Quick Actions -->
    <div id="quick-actions" class="quick-actions-container"></div>

    <!-- Main Content -->
    <main class="main-content"><div class="worker-dashboard">
            <div class="welcome-card">
                <h2>Welcome to the Grievance Portal</h2>
                <p>Your voice matters. Submit grievances anonymously and track their progress safely.</p>
                <div class="safety-info">
                    <i data-lucide="shield"></i>
                    <span>Your identity is protected. All submissions are confidential.</span>
                </div></main>
            </div>

            <div class="quick-actions">
                <button class="btn btn-primary" onclick="openGrievanceForm()">
                    <i data-lucide="plus-circle"></i> Submit New Grievance
                </button>
                <button class="btn btn-secondary" onclick="trackGrievance()">
                    <i data-lucide="search"></i> Track Existing Case
                </button>
            </div>

            <div class="tracking-section">
                <h3>Track Your Case</h3>
                <div class="tracking-form">
                    <input type="text" id="case-id" placeholder="Enter your Case ID" class="form-input">
                    <button class="btn btn-primary" onclick="searchCase()">Search</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Grievance Modal -->
    <div id="grievance-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Submit New Grievance</h3>
                <button class="close-btn" onclick="closeGrievanceModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="grievance-form">
                    <div class="form-group">
                        <label for="grievance-type">Grievance Type</label>
                        <select id="grievance-type" required>
                            <option value="">Select Type</option>
                            <option value="wage">Wage & Benefits</option>
                            <option value="working-conditions">Working Conditions</option>
                            <option value="harassment">Harassment & Discrimination</option>
                            <option value="safety">Health & Safety</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="incident-date">Date of Incident</label>
                        <input type="date" id="incident-date" required>
                    </div>
                    <div class="form-group">
                        <label for="incident-description">Description</label>
                        <textarea id="incident-description" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="consent" required>
                            I consent to the investigation process
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeGrievanceModal()">Cancel</button>
                <button class="btn btn-primary" onclick="submitGrievance()">Submit</button>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        function openGrievanceForm() {
            document.getElementById('grievance-modal').style.display = 'block';
        }

        function closeGrievanceModal() {
            document.getElementById('grievance-modal').style.display = 'none';
            document.getElementById('grievance-form').reset();
        }

        function submitGrievance() {
            const form = document.getElementById('grievance-form');
            if (form.checkValidity()) {
                const caseId = 'GRV-' + new Date().getFullYear() + '-' + String(Math.floor(Math.random() * 1000)).padStart(3, '0');
                alert(`Grievance submitted successfully!\nYour Case ID is: ${caseId}`);
                closeGrievanceModal();
            } else {
                form.reportValidity();
            }
        }

        function trackGrievance() {
            const caseId = document.getElementById('case-id').value.trim();
            if (caseId) {
                searchCase();
            } else {
                alert('Please enter a Case ID to track');
            }
        }

        function searchCase() {
            const caseId = document.getElementById('case-id').value.trim();
            if (caseId) {
                alert(`Searching for case: ${caseId}`);
            } else {
                alert('Please enter a Case ID');
            }
        }
    </script>
</body>
</html>
