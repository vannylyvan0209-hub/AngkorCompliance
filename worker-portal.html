<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worker Portal - Angkor Compliance</title>
    <link rel="stylesheet" href="assets/css/worker-portal.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="worker-portal">
        <header class="portal-header">
            <div class="header-content">
                <img src="logo.png" alt="Angkor Compliance" class="logo">
                <h1>Worker Portal</h1>
                <div class="language-selector">
                    <select id="languageSelect">
                        <option value="en">English</option>
                        <option value="km">ខ្មែរ</option>
                        <option value="th">ไทย</option>
                        <option value="vi">Tiếng Việt</option>
                    </select>
                </div>
            </div>
        </header>
        
        <main class="portal-main">
            <!-- Welcome Section -->
            <section class="welcome-section" id="welcomeSection">
                <div class="welcome-content">
                    <h2 data-i18n="welcome.title">Welcome to Angkor Compliance Worker Portal</h2>
                    <p data-i18n="welcome.subtitle">Your voice matters. Submit grievances safely and anonymously.</p>
                    
                    <div class="action-buttons">
                        <button class="btn-primary" onclick="showGrievanceForm()">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span data-i18n="welcome.submit_grievance">Submit Grievance</span>
                        </button>
                        <button class="btn-secondary" onclick="showCaseTracking()">
                            <i class="fas fa-search"></i>
                            <span data-i18n="welcome.track_case">Track Your Case</span>
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Grievance Submission Form -->
            <section class="grievance-form" id="grievanceForm" style="display: none;">
                <div class="form-container">
                    <div class="form-header">
                        <button class="btn-back" onclick="showWelcome()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 data-i18n="grievance.title">Submit Grievance</h2>
                    </div>
                    
                    <form id="grievanceSubmissionForm">
                        <div class="form-group">
                            <label for="category" data-i18n="grievance.category">Category *</label>
                            <select id="category" required>
                                <option value="" data-i18n="grievance.select_category">Select Category</option>
                                <option value="harassment" data-i18n="grievance.harassment">Harassment</option>
                                <option value="wage" data-i18n="grievance.wage">Wage Issues</option>
                                <option value="safety" data-i18n="grievance.safety">Safety Concerns</option>
                                <option value="discrimination" data-i18n="grievance.discrimination">Discrimination</option>
                                <option value="working_conditions" data-i18n="grievance.working_conditions">Working Conditions</option>
                                <option value="other" data-i18n="grievance.other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="description" data-i18n="grievance.description">Description *</label>
                            <textarea id="description" rows="4" required 
                                      data-i18n-placeholder="grievance.description_placeholder"
                                      placeholder="Please describe your concern in detail..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="urgency" data-i18n="grievance.urgency">Urgency Level *</label>
                            <select id="urgency" required>
                                <option value="low" data-i18n="grievance.urgency_low">Low</option>
                                <option value="medium" data-i18n="grievance.urgency_medium">Medium</option>
                                <option value="high" data-i18n="grievance.urgency_high">High</option>
                                <option value="critical" data-i18n="grievance.urgency_critical">Critical</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="department" data-i18n="grievance.department">Department (Optional)</label>
                            <select id="department">
                                <option value="" data-i18n="grievance.select_department">Select Department</option>
                                <option value="production" data-i18n="grievance.production">Production</option>
                                <option value="quality" data-i18n="grievance.quality">Quality Control</option>
                                <option value="maintenance" data-i18n="grievance.maintenance">Maintenance</option>
                                <option value="warehouse" data-i18n="grievance.warehouse">Warehouse</option>
                                <option value="office" data-i18n="grievance.office">Office</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="anonymous" checked>
                                <span data-i18n="grievance.anonymous">Submit Anonymously</span>
                            </label>
                        </div>
                        
                        <div class="form-group" id="contactInfo" style="display: none;">
                            <label for="contactPhone" data-i18n="grievance.contact_phone">Contact Phone (Optional)</label>
                            <input type="tel" id="contactPhone" placeholder="+855 12 345 678">
                            
                            <label for="contactEmail" data-i18n="grievance.contact_email">Contact Email (Optional)</label>
                            <input type="email" id="contactEmail" placeholder="worker@example.com">
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-secondary" onclick="showWelcome()" data-i18n="common.cancel">Cancel</button>
                            <button type="submit" class="btn-submit" data-i18n="grievance.submit">Submit Grievance</button>
                        </div>
                    </form>
                </div>
            </section>
            
            <!-- Case Tracking -->
            <section class="case-tracking" id="caseTracking" style="display: none;">
                <div class="tracking-container">
                    <div class="tracking-header">
                        <button class="btn-back" onclick="showWelcome()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 data-i18n="tracking.title">Track Your Case</h2>
                    </div>
                    
                    <form id="trackingForm">
                        <div class="form-group">
                            <label for="caseId" data-i18n="tracking.case_id">Case ID</label>
                            <input type="text" id="caseId" data-i18n-placeholder="tracking.case_id_placeholder" placeholder="Enter your case ID">
                        </div>
                        
                        <div class="form-group">
                            <label for="trackingPhone" data-i18n="tracking.phone">Phone Number</label>
                            <input type="tel" id="trackingPhone" data-i18n-placeholder="tracking.phone_placeholder" placeholder="Enter your phone number">
                        </div>
                        
                        <button type="submit" class="btn-track" data-i18n="tracking.track">Track Case</button>
                    </form>
                    
                    <div id="caseStatus" class="case-status" style="display: none;">
                        <div class="status-header">
                            <h3 data-i18n="tracking.case_details">Case Details</h3>
                            <span class="case-id" id="displayCaseId"></span>
                        </div>
                        
                        <div class="status-timeline" id="statusTimeline">
                            <!-- Timeline will be populated here -->
                        </div>
                        
                        <div class="status-actions">
                            <button class="btn-secondary" onclick="showGrievanceForm()" data-i18n="tracking.submit_new">Submit New Grievance</button>
                            <button class="btn-primary" onclick="showWelcome()" data-i18n="tracking.back_home">Back to Home</button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Success Message -->
            <section class="success-message" id="successMessage" style="display: none;">
                <div class="success-content">
                    <i class="fas fa-check-circle success-icon"></i>
                    <h2 data-i18n="success.title">Grievance Submitted Successfully</h2>
                    <p data-i18n="success.message">Your grievance has been submitted and is being reviewed. You will receive updates on your case.</p>
                    
                    <div class="case-info">
                        <p><strong data-i18n="success.case_id">Case ID:</strong> <span id="successCaseId"></span></p>
                        <p><strong data-i18n="success.submitted">Submitted:</strong> <span id="successDate"></span></p>
                    </div>
                    
                    <div class="success-actions">
                        <button class="btn-secondary" onclick="showCaseTracking()" data-i18n="success.track_case">Track This Case</button>
                        <button class="btn-primary" onclick="showWelcome()" data-i18n="success.back_home">Back to Home</button>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Footer -->
        <footer class="portal-footer">
            <div class="footer-content">
                <p data-i18n="footer.confidentiality">All submissions are confidential and protected.</p>
                <p data-i18n="footer.support">For support, contact your HR department or the grievance committee.</p>
            </div>
        </footer>
    </div>
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="spinner"></div>
            <p data-i18n="loading.message">Processing your request...</p>
        </div>
    </div>
    
    <script src="assets/js/worker-portal.js"></script>
</body>
</html>
